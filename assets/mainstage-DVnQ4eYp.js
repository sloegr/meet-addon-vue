import{c as e,i as t,n,o as r,r as i,s as a,t as o}from"./_plugin-vue_export-helper-DohLwp5R.js";var s={};function c(n,o){return e(),r(i,null,[o[0]||=t(`h1`,null,`You did it!`,-1),o[1]||=t(`p`,null,[a(` Visit `),t(`a`,{href:`https://vuejs.org/`,target:`_blank`,rel:`noopener`},`vuejs.org`),a(` to read the documentation `)],-1)],64)}var l=o(s,[[`render`,c]]),u=typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{};(function(){var e=Object.defineProperty;function t(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof global==`object`&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var n=t(this);function r(t,r){if(r)a:{var i=n;t=t.split(`.`);for(var a=0;a<t.length-1;a++){var o=t[a];if(!(o in i))break a;i=i[o]}t=t[t.length-1],a=i[t],r=r(a),r!=a&&r!=null&&e(i,t,{configurable:!0,writable:!0,value:r})}}r(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)});var i=this||self;function a(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function o(e,t){function n(){}n.prototype=t.prototype,e.qa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.oa=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function s(e,t){if(Error.captureStackTrace)Error.captureStackTrace(this,s);else{let e=Error().stack;e&&(this.stack=e)}e&&(this.message=String(e)),t!==void 0&&(this.cause=t)}o(s,Error),s.prototype.name=`CustomError`;function c(e){i.setTimeout(()=>{throw e},0)}var l,u;a:{for(var d=[`CLOSURE_FLAGS`],ee=i,te=0;te<d.length;te++)if(ee=ee[d[te]],ee==null){u=null;break a}u=ee}l=(u&&u[610401301])??!1;var ne;let re=i.navigator;ne=re&&re.userAgentData||null;function ie(e){return l&&ne?ne.brands.some(({brand:t})=>t&&t.indexOf(e)!=-1):!1}function f(e){var t;a:{if((t=i.navigator)&&(t=t.userAgent))break a;t=``}return t.indexOf(e)!=-1}function p(){return l?!!ne&&ne.brands.length>0:!1}function ae(){return p()?ie(`Chromium`):(f(`Chrome`)||f(`CriOS`))&&!(!p()&&f(`Edge`))||f(`Silk`)}function oe(e,t){t=Array.prototype.indexOf.call(e,t,void 0),t>=0&&Array.prototype.splice.call(e,t,1)}!f(`Android`)||ae(),ae(),f(`Safari`)&&(ae()||!p()&&f(`Coast`)||!p()&&f(`Opera`)||!p()&&f(`Edge`)||(p()?ie(`Microsoft Edge`):f(`Edg/`))||p()&&ie(`Opera`));function se(e){let t=``,n=0,r=e.length-10240;for(;n<r;)t+=String.fromCharCode.apply(null,e.subarray(n,n+=10240));return t+=String.fromCharCode.apply(null,n?e.subarray(n):e),btoa(t)}let ce=/[-_.]/g,le={"-":`+`,_:`/`,".":`=`};function ue(e){return le[e]||``}function de(e){return e!=null&&e instanceof Uint8Array}var fe={};function pe(){return he||=new me(null,fe)}var me=class{constructor(e,t){if(ge(t),this.g=e,e!=null&&e.length===0)throw Error(`ByteString should be constructed with non-empty values`)}};let he;function ge(e){if(e!==fe)throw Error(`illegal external caller`)}function _e(e,t){e.__closure__error__context__984382||={},e.__closure__error__context__984382.severity=t}let ve;function ye(){let e=Error();_e(e,`incident`),c(e)}function be(e){return e=Error(e),_e(e,`warning`),e}function xe(){return typeof BigInt==`function`}function Se(e){return Array.prototype.slice.call(e)}function m(e,t){return t&&Symbol.for&&e?Symbol.for(e):e==null?Symbol():Symbol(e)}var h=m(`jas`,!0);m();var Ce=m(),we=m();m(),m();function Te(e,t){t[h]=(e|0)&-30975}function Ee(e,t){t[h]=(e|34)&-30941}var De={},Oe={};function ke(e){return!(!e||typeof e!=`object`||e.g!==Oe)}function Ae(e){return typeof e==`object`&&!!e&&!Array.isArray(e)&&e.constructor===Object}function je(e,t){if(e!=null){if(typeof e==`string`)e=e?new me(e,fe):pe();else if(e.constructor!==me)if(de(e))e=e.length?new me(new Uint8Array(e),fe):pe();else{if(!t)throw Error();e=void 0}}return e}function Me(e){return!Array.isArray(e)||e.length?!1:!!((e[h]|0)&1)}var Ne;let Pe=[];Pe[h]=55,Ne=Object.freeze(Pe);function Fe(e){if(e&2)throw Error()}var Ie=Object.freeze({});function Le(e){return e.pa=!0,e}var Re=Le(e=>typeof e==`number`),ze=Le(e=>typeof e==`string`),Be=Le(e=>typeof e==`boolean`),Ve=typeof i.BigInt==`function`&&typeof i.BigInt(0)==`bigint`,He=Le(e=>Ve?e>=We&&e<=Ke:e[0]===`-`?qe(e,Ue):qe(e,Ge));let Ue=(-(2**53-1)).toString(),We=Ve?BigInt(-(2**53-1)):void 0,Ge=(2**53-1).toString(),Ke=Ve?BigInt(2**53-1):void 0;function qe(e,t){if(e.length>t.length)return!1;if(e.length<t.length||e===t)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r>i)return!1;if(r<i)return!0}}let g=0,_=0;function Je(e){let t=e>>>0;g=t,_=(e-t)/4294967296>>>0}function Ye(e){if(e<0){Je(-e);let[t,n]=Qe(g,_);g=t>>>0,_=n>>>0}else Je(e)}function Xe(e,t){if(t>>>=0,e>>>=0,t<=2097151)var n=``+(4294967296*t+e);else xe()?n=``+(BigInt(t)<<BigInt(32)|BigInt(e)):(n=(e>>>24|t<<8)&16777215,t=t>>16&65535,e=(e&16777215)+n*6777216+t*6710656,n+=t*8147497,t*=2,e>=1e7&&(n+=e/1e7>>>0,e%=1e7),n>=1e7&&(t+=n/1e7>>>0,n%=1e7),n=t+Ze(n)+Ze(e));return n}function Ze(e){return e=String(e),`0000000`.slice(e.length)+e}function Qe(e,t){return t=~t,e?e=~e+1:t+=1,[e,t]}function $e(e){if(e==null||typeof e==`boolean`)return e;if(typeof e==`number`)return!!e}let et=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function tt(e){let t=typeof e;switch(t){case`bigint`:return!0;case`number`:return Number.isFinite(e)}return t===`string`?et.test(e):!1}function v(e){if(e!=null){if(!Number.isFinite(e))throw be(`enum`);e|=0}return e}function nt(e){if(e!=null&&typeof e==`string`){if(!e)return;e=+e}}function rt(e){if(e!=null)a:{if(!tt(e))throw be(`int64`);switch(typeof e){case`string`:e=at(e);break a;case`bigint`:var t=e=BigInt.asIntN(64,e);if(ze(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(Re(t)&&!Number.isSafeInteger(t))throw Error(String(t));e=Ve?BigInt(e):Be(e)?e?`1`:`0`:ze(e)?e.trim()||`0`:String(e);break a;default:e=it(e)}}return e}function it(e){if(e=Math.trunc(e),!Number.isSafeInteger(e)){Ye(e);var t=g,n=_;(e=n&2147483648)&&(t=~t+1>>>0,n=~n>>>0,t==0&&(n=n+1>>>0));let r=n*4294967296+(t>>>0);t=Number.isSafeInteger(r)?r:Xe(t,n),e=typeof t==`number`?e?-t:t:e?`-`+t:t}return e}function at(e){var t=Math.trunc(Number(e));if(Number.isSafeInteger(t))return String(t);if(t=e.indexOf(`.`),t!==-1&&(e=e.substring(0,t)),!(e[0]===`-`?e.length<20||e.length===20&&Number(e.substring(0,7))>-922337:e.length<19||e.length===19&&Number(e.substring(0,6))<922337)){if(e.length<16)Ye(Number(e));else if(xe())e=BigInt(e),g=Number(e&BigInt(4294967295))>>>0,_=Number(e>>BigInt(32)&BigInt(4294967295));else{t=+(e[0]===`-`),_=g=0;let n=e.length;for(let r=t,i=(n-t)%6+t;i<=n;r=i,i+=6){let t=Number(e.slice(r,i));_*=1e6,g=g*1e6+t,g>=4294967296&&(_+=Math.trunc(g/4294967296),_>>>=0,g>>>=0)}if(t){let[e,t]=Qe(g,_);g=e,_=t}}if(e=g,t=_,t&2147483648)if(xe())e=``+(BigInt(t|0)<<BigInt(32)|BigInt(e>>>0));else{let[n,r]=Qe(e,t);e=`-`+Xe(n,r)}else e=Xe(e,t)}return e}function y(e){if(e!=null&&typeof e!=`string`)throw Error();return e}function ot(e,t,n){if(typeof e==`object`&&e&&e.H===De)return e;if(Array.isArray(e)){var r=e[h]|0,i=r;return i===0&&(i|=n&32),i|=n&2,i!==r&&(e[h]=i),new t(e)}}function st(e){pt===void 0&&(pt=typeof Proxy==`function`?ht(Proxy):null);var t;return(t=!pt)||(mt===void 0&&(mt=typeof WeakMap==`function`?ht(WeakMap):null),t=!mt),t?e:(t=dt(e))?t:Math.random()>.01?e:(_t(e),t=new pt(e,{set(e,t,n){return ct(),e[t]=n,!0}}),ft(e,t),t)}function ct(){ye()}let lt,ut;function dt(e){return lt?.get(e)}function ft(e,t){(lt||=new mt).set(e,t),(ut||=new mt).set(t,e)}let pt,mt;function ht(e){try{return e.toString().indexOf(`[native code]`)===-1?null:e}catch{return null}}let gt;function _t(e){if(gt===void 0){let e=new pt([],{});gt=Array.prototype.concat.call([],e).length===1}gt&&typeof Symbol==`function`&&Symbol.isConcatSpreadable&&(e[Symbol.isConcatSpreadable]=!0)}function vt(e,t){return yt(t)}function yt(e){switch(typeof e){case`number`:return isFinite(e)?e:String(e);case`bigint`:return He(e)?Number(e):String(e);case`boolean`:return e?1:0;case`object`:if(e)if(Array.isArray(e)){if(Me(e))return}else{if(de(e))return se(e);if(e instanceof me){let t=e.g;return t==null?``:typeof t==`string`?t:e.g=se(t)}}}return e}function bt(e,t,n){e=Se(e);var r=e.length;let i=t&256?e[r-1]:void 0;for(r+=i?-1:0,t=t&512?1:0;t<r;t++)e[t]=n(e[t]);if(i)for(let r in t=e[t]={},i)t[r]=n(i[r]);return e}function xt(e,t,n,r,i){if(e!=null){if(Array.isArray(e))e=Me(e)?void 0:i&&(e[h]|0)&2?e:St(e,t,n,r!==void 0,i);else if(Ae(e)){let a={};for(let o in e)a[o]=xt(e[o],t,n,r,i);e=a}else e=t(e,r);return e}}function St(e,t,n,r,i){let a=r||n?e[h]|0:0;r=r?!!(a&32):void 0,e=Se(e);for(let a=0;a<e.length;a++)e[a]=xt(e[a],t,n,r,i);return n&&n(a,e),e}function Ct(e){return e.H===De?e.toJSON():yt(e)}function wt(e,t,n=Ee){if(e!=null){if(e instanceof Uint8Array)return t?e:new Uint8Array(e);if(Array.isArray(e)){var r=e[h]|0;return r&2?e:(t&&=r===0||!!(r&32)&&!(r&64||!(r&16)),t?(e[h]=(r|34)&-12293,e):St(e,wt,r&4?Ee:n,!0,!0))}return e.H===De&&(n=e.m,r=n[h],e=r&2?e:new e.constructor(Tt(n,r,!0))),e}}function Tt(e,t,n){let r=n||t&2?Ee:Te,i=!!(t&32);return e=bt(e,t,e=>wt(e,i,r)),e[h]=e[h]|32|(n?2:0),e}function Et(e){let t=e.m,n=t[h];return n&2?new e.constructor(Tt(t,n,!1)):e}function b(e,t){return e=e.m,x(e,e[h],t)}function Dt(e,t,n,r){if(t=r+(!!(t&512)-1),!(t<0||t>=e.length||t>=n))return e[t]}function x(e,t,n,r){if(n===-1)return null;let i=t>>15&1023||536870912;if(n>=i){if(t&256)return e[e.length-1][n]}else{var a=e.length;if(r&&t&256&&(r=e[a-1][n],r!=null)){if(Dt(e,t,i,n)&&Ce!=null){var o;e=(o=ve)??(ve={}),o=e[Ce]||0,o>=4||(e[Ce]=o+1,ye())}return r}return Dt(e,t,i,n)}}function Ot(e,t,n){let r=e.m,i=r[h];return Fe(i),S(r,i,t,n),e}function S(e,t,n,r){let i=t>>15&1023||536870912;if(n>=i){let a,o=t;if(t&256)a=e[e.length-1];else{if(r==null)return o;a=e[i+(!!(t&512)-1)]={},o|=256}return a[n]=r,n<i&&(e[n+(!!(t&512)-1)]=void 0),o!==t&&(e[h]=o),o}return e[n+(!!(t&512)-1)]=r,t&256&&(e=e[e.length-1],n in e&&delete e[n]),t}function C(e,t,n,r){return n=E(e,r)===n?n:-1,jt(e,t,n)!==void 0}function w(e){return!!(2&e)&&!!(4&e)||!!(2048&e)}function T(e,t,n,r){let i=e.m,a=i[h];return Fe(a),S(i,a,t,(r===`0`?Number(n)===0:n===r)?void 0:n),e}function E(e,t){return e=e.m,At(kt(e),e,e[h],t)}function kt(e){return e[we]??(e[we]=new Map)}function At(e,t,n,r){let i=e.get(r);if(i!=null)return i;i=0;for(let e=0;e<r.length;e++){let a=r[e];x(t,n,a)!=null&&(i!==0&&(n=S(t,n,i)),i=a)}return e.set(r,i),i}function jt(e,t,n,r){e=e.m;let i=e[h];return r=x(e,i,n,r),t=ot(r,t,i),t!==r&&t!=null&&S(e,i,n,t),t}function Mt(e,t,n){if(t=jt(e,t,n,!1),t==null)return t;e=e.m;let r=e[h];if(!(r&2)){let i=Et(t);i!==t&&(t=i,S(e,r,n,t))}return t}function D(e,t,n){return n??=void 0,Ot(e,t,n)}function O(e,t,n,r){r??=void 0;a:{let o=e.m;var i=o[h];if(Fe(i),r==null){var a=kt(o);if(At(a,o,i,n)===t)a.set(n,0);else break a}else{a=o;let e=kt(a),r=At(e,a,i,n);r!==t&&(r&&(i=S(a,i,r)),e.set(n,t))}S(o,i,t,r)}return e}function Nt(e,t){let n=e.m,r=n[h];if(Fe(r),t==null)return S(n,r,1),e;var i=t,a;t=(a=ut)?.get(i)||i,a=i=t[h]|0;let o=w(i),s=o||Object.isFrozen(t),c=!0,l=!0;for(let e=0;e<t.length;e++){var u=t[e];o||(u=!!((u.m[h]|0)&2),c&&=!u,l&&=u)}return o||(i=c?13:5,i=l?i|16:i&-17),s&&i===a||(t=Se(t),a=0,i=Pt(i,r),i=Ft(i,r,!0)),i!==a&&(t[h]=i),S(n,r,1,t),e}function Pt(e,t){return e=(2&t?e|2:e&-3)|32,e&=-2049}function Ft(e,t,n){return 32&t&&n||(e&=-33),e}function k(e,t){return e??t}function It(e){return e=b(e,1),e!=null&&(typeof e==`bigint`?He(e)?e=Number(e):(e=BigInt.asIntN(64,e),e=He(e)?Number(e):String(e)):e=tt(e)?typeof e==`number`?it(e):at(e):void 0),k(e,0)}function A(e,t){return e=b(e,t),k(e==null||typeof e==`string`?e:void 0,``)}function j(e,t){return e=b(e,t),e=e==null?e:Number.isFinite(e)?e|0:void 0,k(e,0)}function M(e,t,n,r){return n=E(e,r)===n?n:-1,Mt(e,t,n)}let N;function Lt(e){try{return N=!0,JSON.stringify(zt(e),vt)}finally{N=!1}}function Rt(){var e=vi||=Vt(`[1,2,0]`);e=Et(e),e=Ot(e,4,y(`dev-706864954`));let t=e.m,n=t[h];return n&2?e:new e.constructor(Tt(t,n,!0))}var P=class{constructor(e){a:{var t=t??0;if(e==null){var n=96;e=[]}else{if(!Array.isArray(e))throw Error(`narr`);if(n=e[h]|0,n&2048)throw Error(`farr`);if(n&64)break a;t===1||t===2||(n|=64),t=e;var r=t.length;if(r&&(--r,Ae(t[r]))){if(n|=256,t=r-(!!(n&512)-1),t>=1024)throw Error(`pvtlmt`);n=n&-33521665|(t&1023)<<15}}e[h]=n}this.m=e}toJSON(){return zt(this)}};P.prototype.H=De,P.prototype.toString=function(){try{return N=!0,zt(this).toString()}finally{N=!1}};function zt(e){e=e.m,e=N?e:St(e,Ct,void 0,void 0,!1);{var t=!N;let l=e.length;if(l){var n=e[l-1],r=Ae(n);r?l--:n=void 0;var i=e;if(r){b:{var a=n,o,s=!1;if(a)for(let e in a)isNaN(+e)?(o??={})[e]=a[e]:(r=a[e],Array.isArray(r)&&(Me(r)||ke(r)&&r.size===0)&&(r=null),r??(s=!0),r!=null&&((o??={})[e]=r));if(s||(o=a),o)for(let e in o){s=o;break b}s=null}a=s==null?n!=null:s!==n}for(;l>0&&(o=i[l-1],o==null||Me(o)||ke(o)&&o.size===0);l--)var c=!0;(i!==e||a||c)&&(t?(c||a||s)&&(i.length=l):i=Array.prototype.slice.call(i,0,l),s&&i.push(s)),c=i}else c=e}return c}function Bt(e){return t=>{if(t==null||t==``)t=new e;else{if(t=JSON.parse(t),!Array.isArray(t))throw Error(`dnarr`);t[h]|=32,t=new e(t)}return t}}var Vt=function(e){return t=>{if(t=JSON.parse(t),!Array.isArray(t)){var n=typeof t;throw Error(`Expected jspb data to be an array, got `+(n==`object`?t?Array.isArray(t)?`array`:n:`null`:n)+`: `+t)}return t[h]|=34,new e(t)}}(class extends P{}),Ht=class extends P{};function Ut(e){var t=new Jt(500);let n=0,r;return(...i)=>{Gt(t)?e(...i):(r=()=>void e(...i),n||=setTimeout(()=>{n=0;let e;(e=r)==null||e()},Kt(t)))}}function Wt(e){var t=new Jt(100),n=Promise.resolve();return(...r)=>Gt(t)?e(...r):n}function Gt(e){return qt(e,e.index)>=e.g?(e.h[e.index]=Date.now(),e.index=(e.index+1)%1,!0):!1}function Kt(e){let t=e.g;return e=qt(e,e.index),e>=t?0:t-e}function qt(e,t){return Date.now()-(e.h[t]??-1*e.g)}var Jt=class{constructor(e){this.g=e,this.h=[],this.index=0}},Yt=class extends P{},Xt=[2,3],Zt=class extends P{},F=class extends Error{constructor({errorType:e,message:t,i:n}){super(`Meet Add-on SDK error: ${`${t}${n?` - ${n}`:``}`}`),this.errorType=e}},I={errorType:`InternalError`,message:`An unexpected error has occurred.`,i:`No further information is available.`},Qt={errorType:`MissingUrlParameter`,message:`Missing required Meet SDK URL parameter`,i:`This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect).`},$t={errorType:`NeedsMainStageContext`,message:`This method can only be invoked if the addon is running in the main stage.`,i:`Use getFrameType to check whether the addon is running in the main stage before invoking this method.`},en={errorType:`NeedsSidePanelContext`,message:`This method can only be invoked if the addon is running in the side panel.`,i:`Use getFrameType to check whether the addon is running in the side panel before invoking this method.`},tn={errorType:`NotSupportedInStandalone`,message:`This method is not supported in standalone mode.`,i:`Do not call this method in standalone mode.`},nn={errorType:`InternalError`,message:`The frame type URL parameter is set to an unexpected value.`,i:`This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect).`},rn={errorType:`InvalidCloudProjectNumber`,message:`Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.`,i:`This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string.`},an={errorType:`DestinationNotReady`,message:`The recipient frame is not connected via the addon SDK and cannot receive the notification.`,i:`Make sure the destination frame has connected before sending messages to it.`},on={errorType:`InvalidActivityStartingState`,message:`Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.`,i:`Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest.`},sn={errorType:`ActivityStartingStateMissingAttributes`,message:`The supplied ActivityStartingState object does not contain any recognized attributes.`,i:`Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData.`},cn={errorType:`ActivityStartingStateUnrecognizedAttributes`,message:`The supplied ActivityStartingState object contains attributes that are not recognized.`,i:`Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData.`},ln={errorType:`AddonStartingStateMissingAttributes`,message:`The supplied AddonStartingState object does not contain any recognized attributes.`,i:`Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData.`},un={errorType:`AddonStartingStateUnrecognizedAttributes`,message:`The supplied AddonStartingState object contains attributes that are not recognized.`,i:`Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData.`},dn=e=>({errorType:`ArgumentNullError`,message:`The argument supplied for '${e}' was 'null' but a value was expected.`,i:`Ensure you are passing a value of the expected type for the argument.`}),L=(e,t,n)=>({errorType:`ArgumentTypeError`,message:`The type '${t}' of argument supplied for '${e}' did not match the expected type '${n}'.`,i:`Ensure the type of the argument provided matches the expected type.`}),fn=e=>({errorType:`InternalError`,message:`Could not connect to ${e} channel. Unknown error`,i:`No further information is available.`}),pn={errorType:`ActivityIsOngoing`,message:`Operation cannot be performed while an activity is ongoing.`,i:`Ensure that no activity is ongoing.`},mn={errorType:`InternalError`,message:`Frame message missing required Meet SDK command.`,i:`Send one of the available commands in the frame message.`},hn={errorType:`NoActivityFound`,message:`No activity found.`,i:`Ensure that the activity is started before performing this operation.`},gn={errorType:`RequiresEapEnrollment`,message:`This feature is only available to early access partners.`,i:`Meet add-on early access enrollment is currently closed.`},_n={errorType:`UserNotInitiator`,message:`Operation cannot be performed because the user is not the initiator of the current activity.`,i:`Ensure that the user is the initiator of the current activity or that the activity has ended.`},vn={errorType:`SizeLimitExceededActivityStartingState`,message:`The size of the activityStartingState URLs and/or its data exceed the limits allowed.`,i:`Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters.`},yn={errorType:`SizeLimitExceededFrameToFrameMessage`,message:`The size of the frame to frame message exceeds the limits allowed.`,i:`Ensure that the frame to frame message size is less than 1,000,000 characters.`},bn={errorType:`AddonSessionAlreadyCreated`,message:`The addon session has already been created.`,i:`Only instantiate the AddonSession once.`},xn={errorType:`UserCancelled`,message:`The user cancelled starting an activity.`,i:`The user needs to click continue to start the activity.`},Sn={errorType:`NotSupportedInMeetCall`,message:`This method is not supported during a Meet call.`,i:`Do not call this method during a Meet call.`},Cn={errorType:`InvalidAddonStartingState`,message:`Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.`,i:`Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest.`},wn={errorType:`SizeLimitExceededAddonStartingState`,message:`The size of the AddonStartingState URLs and/or its data exceed the limits allowed.`,i:`Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters.`},Tn={errorType:`MeetingPolicyPreventsStartingActivity`,message:`A meeting policy (such as using host control settings) prevents the user from starting the activity.`,i:`Have a meeting host or administrator modify the necessary settings to allow the current user to start the activity.`};function En(e){switch(e){case 0:return I;case 1:return an;case 2:return on;case 3:return pn;case 4:return mn;case 5:return gn;case 6:return tn;case 7:return _n;case 8:return vn;case 9:return yn;case 10:return xn;case 11:return Sn;case 12:return Cn;case 13:return wn;case 14:return hn;case 15:return Tn;default:return I}}function Dn(e){var t=j(e,1)??0;switch(e=On(E(e,Xt)),t){case 1:return{errorType:`InternalError`,message:`Could not connect to ${e} channel. Meet did not respond with a MessagePort.`,i:`No further information is available.`};case 2:return{errorType:`InternalError`,message:`Could not connect to ${e}. A conflicting ${e} exists.`,i:`No further information is available.`};case 3:return{errorType:`InternalError`,message:`Could not connect to ${e} channel. The addon does not have permission to open a ${e}.`,i:`This method might require EAP enrollment.`};case 4:return{errorType:`InternalError`,message:`Could not connect to ${e} channel. The addon is not authorized for this ${e}.`,i:`No further information is available.`};case 0:return fn(e);case 5:a:switch(e){case`co`:t={errorType:`InternalError`,message:`Could not connect to ${e} channel. The coActivity was not found.`,i:`Consider starting the ${e} only after after the startActivity promise returns.`};break a;default:t={errorType:`InternalError`,message:`Could not connect to ${e} channel.`,i:`No further information is available.`}}return t;default:return fn(e)}}function On(e){switch(e){case 2:return`co`;case 3:return`gd`;case 0:return`unknown`;default:return`unknown`}}function R({errorType:e,message:t,i:n},r=``){throw new F({errorType:e,message:r?`${t} ${r}`:t,i:n})}function kn(e,t){R({...Qt,message:`${Qt.message}: ${e}. In URL ${t}`})}function An(e){return T(new Nn,1,v(e),0)}function jn(e,t){return T(e,2,y(t),``)}function Mn(e,t){return T(e,3,y(t),``)}var Nn=class extends P{getFrameType(){return j(this,1)}};function Pn(e){var t=Ie===void 0?2:4,n=e.m[h],r=n,i=!(2&n),a=Nn;e=e.m,t=(n=!!(2&r))?1:t,i&&=!n,n=x(e,r,1),n=Array.isArray(n)?n:Ne;var o=n[h]|0,s=!!(4&o);if(!s){var c=o;c===0&&(c=Pt(c,r)),o=n,c|=1;var l=r;let e=!!(2&c);e&&(l|=2);let t=!e,i=!0,s=0,u=0;for(;s<o.length;s++){let n=ot(o[s],a,l);if(n instanceof a){if(!e){let e=!!((n.m[h]|0)&2);t&&=!e,i&&=e}o[u++]=n}}u<s&&(o.length=u),c|=4,c=i?c|16:c&-17,c=t?c|8:c&-9,o[h]=c,e&&Object.freeze(o),o=c}if(i&&!(8&o||!n.length&&(t===1||t===4&&32&o))){for(w(o)&&(n=Se(n),o=Pt(o,r),r=S(e,r,1,n)),i=n,a=o,o=0;o<i.length;o++)c=i[o],l=Et(c),c!==l&&(i[o]=l);a|=8,a=i.length?a&-17:a|16,o=i[h]=a}let u;if(t===1||t===4&&32&o){if(!w(o)){r=o;var d=!!(32&o);o|=!n.length||16&o&&(!s||d)?2:2048,o!==r&&(n[h]=o),Object.freeze(n)}}else s=t===5?!!(32&o)||w(o)||!!dt(n):!1,(t===2||s)&&w(o)&&(n=Se(n),o=Pt(o,r),o=Ft(o,r,!1),n[h]=o,r=S(e,r,1,n)),w(o)||(e=o,o=Ft(o,r,!1),o!==e&&(n[h]=o)),s?u=st(n):t===2&&((d=lt)==null||d.delete(n));return u||n}function Fn(e){return Nt(new In,e)}var In=class extends P{},Ln=class extends P{};function Rn(e){return T(new zn,1,v(e),0)}var zn=class extends P{},Bn=class extends P{},Vn=class extends P{},Hn=class extends P{},Un=class extends P{getMeetingInfo(){return M(this,Hn,3,Wn)}getMeetPlatformInfo(){return M(this,Vn,4,Wn)}},Wn=[2,3,4,5],Gn=class extends P{},z=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],Kn=class extends P{},qn=class extends P{},Jn=new Map([[2,`MAIN_STAGE`],[1,`SIDE_PANEL`]]),Yn=new Map([[0,`UNKNOWN`],[1,`OPEN_ADDON`],[2,`START_ACTIVITY`],[3,`JOIN_ACTIVITY`]]);function Xn(e){e&&typeof e.dispose==`function`&&e.dispose()}function B(){this.s=this.s,this.g=this.g}B.prototype.s=!1,B.prototype.dispose=function(){this.s||(this.s=!0,this.G())},B.prototype[Symbol.dispose]=function(){this.dispose()};function Zn(e,t){e.s?t():(e.g||=[],e.g.push(t))}B.prototype.G=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function Qn({J:e,R:t}){if(e===null)throw new F(dn(`activityStartingState`));if(t||e!==void 0){if(typeof e!=`object`)throw new F(L(`activityStartingState`,typeof e,`object${t?``:` | undefined`}`));if(e.mainStageUrl!==void 0&&typeof e.mainStageUrl!=`string`)throw new F(L(`mainStageUrl`,typeof e.mainStageUrl,`string | undefined`));if(e.sidePanelUrl!==void 0&&typeof e.sidePanelUrl!=`string`)throw new F(L(`sidePanelUrl`,typeof e.sidePanelUrl,`string | undefined`));if(e.additionalData!==void 0&&typeof e.additionalData!=`string`)throw new F(L(`additionalData`,typeof e.additionalData,`string | undefined`));if(Object.keys(e).length!==+!!e.mainStageUrl+ +!!e.sidePanelUrl+ +!!e.additionalData)throw new F(cn);if(Object.keys(e).length===0)throw new F(sn)}}function $n(e){let t=[];return t.push(Mn(jn(An(2),e.mainStageUrl),e.additionalData)),t.push(Mn(jn(An(1),e.sidePanelUrl),e.additionalData)),t}var er=class extends B{constructor(e){super(),this.context=e,this.h={},si(this.context.g.U,e=>{switch(E(e.content,z)){case 7:let n=this.h.frameToFrameMessage;if(e=M(e.content,Bn,7,z),n&&e){var t=j(e,1);if(t=Jn.get(t),t===void 0)throw Error(`Unknown frame type.`);n({originator:t,payload:A(e,2)})}}})}async getMeetingInfo(){let e=await Ei(this.context.g,Rn(2));return{meetingId:A(e.getMeetingInfo(),1),meetingCode:A(e.getMeetingInfo(),2)}}async getFrameOpenReason(){let e=this.context.h.ca??0;return Yn.get(e)??`UNKNOWN`}async getActivityStartingState(){var e=M(await Ei(this.context.g,Rn(1)),In,2,Wn);let t=e==null?void 0:Pn(e).find(e=>e.getFrameType()===2);return e=e==null?void 0:Pn(e).find(e=>e.getFrameType()===1),{mainStageUrl:(t==null?void 0:A(t,2))||void 0,sidePanelUrl:(e==null?void 0:A(e,2))||void 0,additionalData:(e==null?void 0:A(e,3))||void 0}}async setActivityStartingState(e){Qn({J:e,R:!0});var t=$n(e);e=Di;var n=this.context.g,r=new Kn;t=Fn(t),r=D(r,1,t),await e(n,r)}on(e,t){this.h[e]=t}async getMeetPlatformInfo(){return{isMeetHardware:k($e(b((await Ei(this.context.g,Rn(3))).getMeetPlatformInfo(),1)),!1)}}async closeAddon(){await Oi(this.context.g)}async startActivity(e){Qn({J:e,R:!1});let t=new qn;e&&(e=$n(e),e=Fn(e),D(t,1,e)),await ki(this.context.g,t)}async endActivity(e){var t=Ai,n=this.context.g;e=T(new Ln,1,v(e===`aab61ee0-51b4-475d-aa4d-849f2498640d`?999:0),0),await t(n,e)}},tr=Bt(class extends P{getFrameOpenReason(){return j(this,5)}});function nr(){var e=window.location.href,t=window.location.href,n=new URL(t).searchParams.get(`meet_sdk`);if(n?t=tr(atob(n)):(kn(`meet_sdk`,t),t=void 0),(n=A(t,1))||kn(`meet_addon_frame_type`,e),n=Number(n),n!==2&&n!==1)throw new F(nn);let r=A(t,2);r||kn(`meet_control_channel_name`,e);let i=A(t,4);i||kn(`addon_cloud_project_number`,e);var a;return e=(a=t.getFrameOpenReason())??0,a=A(t,3)||`https://meet.google.com`,{ca:e,frameType:n,ba:r,cloudProjectNumber:i,S:a}}var rr=class extends P{},ir=class extends P{};function ar(){return O(new or,1,sr,new ir)}var or=class extends P{},sr=[1,2];function cr(e){return D(new ur,2,e)}function lr(e,t){return T(e,3,y(t),``)}var ur=class extends P{},dr=class extends P{},fr=class extends P{},pr=class extends P{},mr=class extends P{},hr=class extends P{setAddonStartingState(e){return D(this,1,e)}},gr=class extends P{};function _r(e,t){return O(e,2,H,t)}var V=class extends P{},H=[1,2,5,6,7,8,9,10,11,13,14,15,16],vr=class extends P{},yr=Bt(vr),U=[1,2];class br{constructor(e,t){this.data=e,this.channel=t}}var xr=Promise;function Sr(e){let t=new MessageChannel;return Tr(t.port1,e),t}function Cr(e,t){return Tr(e,t),new wr(e)}class wr{constructor(e){this.g=e}send(e,t,n=[]){t=Sr(t),this.g.postMessage(e,[t.port2].concat(n))}C(e,t){return new xr(n=>{this.send(e,n,t)})}}function Tr(e,t){t&&(e.onmessage=e=>{var n=e.data;e=Cr(e.ports[0]),t(new br(n,e))})}var Er=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function Dr(e,t){e.l(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}class Or{constructor(e,t){this.j=e,this.l=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.j(),e}}function kr(){var e=Fr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ar{constructor(){this.h=this.g=null}add(e,t){let n=jr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var jr=new Or(()=>new Mr,e=>e.reset());class Mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let Nr,Pr=!1,Fr=new Ar,Ir=(e,t)=>{Nr||Lr(),Pr||=(Nr(),!0),Fr.add(e,t)},Lr=()=>{let e=Promise.resolve(void 0);Nr=()=>{e.then(Rr)}};function Rr(){let e;for(;e=kr();){try{e.h.call(e.g)}catch(e){c(e)}Dr(jr,e)}Pr=!1}function zr(){}function W(e){if(this.g=0,this.T=void 0,this.l=this.h=this.j=null,this.v=this.B=!1,e!=zr)try{let t=this;e.call(void 0,function(e){G(t,2,e)},function(e){G(t,3,e)})}catch(e){G(this,3,e)}}function Br(){this.next=this.context=this.h=this.l=this.g=null,this.j=!1}Br.prototype.reset=function(){this.context=this.h=this.l=this.g=null,this.j=!1};var Vr=new Or(function(){return new Br},function(e){e.reset()});function Hr(e,t,n){let r=Vr.get();return r.l=e,r.h=t,r.context=n,r}function Ur(){let e,t;return new ti(new W(function(n,r){e=n,t=r}),e,t)}W.prototype.then=function(e,t,n){return qr(this,Er(typeof e==`function`?e:null),Er(typeof t==`function`?t:null),n)},W.prototype.$goog_Thenable=!0;function Wr(e,t){t=Er(t),t=Hr(t,t),t.j=!0,Kr(e,t)}W.prototype.cancel=function(e){if(this.g==0){let t=new K(e);Ir(function(){Gr(this,t)},this)}};function Gr(e,t){if(e.g==0)if(e.j){var n=e.j;if(n.h){var r=0,i=null,a=null;for(let t=n.h;t&&(t.j||(r++,t.g==e&&(i=t),!(i&&r>1)));t=t.next)i||(a=t);i&&(n.g==0&&r==1?Gr(n,t):(a?(r=a,r.next==n.l&&(n.l=r),r.next=r.next.next):Xr(n),Zr(n,i,3,t)))}e.j=null}else G(e,3,t)}function Kr(e,t){e.h||e.g!=2&&e.g!=3||Yr(e),e.l?e.l.next=t:e.h=t,e.l=t}function qr(e,t,n,r){let i=Hr(null,null,null);return i.g=new W(function(e,a){i.l=t?function(n){try{e(t.call(r,n))}catch(e){a(e)}}:e,i.h=n?function(t){try{let i=n.call(r,t);i===void 0&&t instanceof K?a(t):e(i)}catch(e){a(e)}}:a}),i.g.j=e,Kr(e,i),i.g}W.prototype.ma=function(e){this.g=0,G(this,2,e)},W.prototype.na=function(e){this.g=0,G(this,3,e)};function G(e,t,n){if(e.g==0){e===n&&(t=3,n=TypeError(`Promise cannot resolve to itself`)),e.g=1;a:{var r=n,i=e.ma,a=e.na;if(r instanceof W){Kr(r,Hr(i||zr,a||null,e));var o=!0}else{if(r)try{var s=!!r.$goog_Thenable}catch{s=!1}else s=!1;if(s)r.then(i,a,e),o=!0;else{if(s=typeof r,s==`object`&&r!=null||s==`function`)try{let t=r.then;if(typeof t==`function`){Jr(r,t,i,a,e),o=!0;break a}}catch(t){a.call(e,t),o=!0;break a}o=!1}}}o||(e.T=n,e.g=t,e.j=null,Yr(e),t!=3||n instanceof K||$r(e,n))}}function Jr(e,t,n,r,i){function a(e){s||(s=!0,r.call(i,e))}function o(e){s||(s=!0,n.call(i,e))}let s=!1;try{t.call(e,o,a)}catch(e){a(e)}}function Yr(e){e.B||(e.B=!0,Ir(e.la,e))}function Xr(e){let t=null;return e.h&&(t=e.h,e.h=t.next,t.next=null),e.h||(e.l=null),t}W.prototype.la=function(){let e;for(;e=Xr(this);)Zr(this,e,this.g,this.T);this.B=!1};function Zr(e,t,n,r){if(n==3&&t.h&&!t.j)for(;e&&e.v;e=e.j)e.v=!1;if(t.g)t.g.j=null,Qr(t,n,r);else try{t.j?t.l.call(t.context):Qr(t,n,r)}catch(e){ei.call(null,e)}Dr(Vr,t)}function Qr(e,t,n){t==2?e.l.call(e.context,n):e.h&&e.h.call(e.context,n)}function $r(e,t){e.v=!0,Ir(function(){e.v&&ei.call(null,t)})}var ei=c;function K(e){s.call(this,e)}o(K,s),K.prototype.name=`cancel`;function ti(e,t,n){this.promise=e,this.resolve=t,this.reject=n}let ni=1,ri=new WeakMap;function ii(e,t,n){var r=oi;e.h.has(t),r(t,n)}var ai=class extends B{constructor(){super(),this.h=new Set}signal(){let e=new li;return this.h.add(e),Zn(this,a(Xn,e)),e}};function oi(e,t){return new Promise(n=>{fi(()=>{e.L&&(e.ea=t,e.P=!0);for(let{I:n,slot:r}of e.o.values())try{r(t,{signal:e,I:n})}catch(e){c(e)}for(let n of e.A)n.resolve(t);e.A.clear(),n()})})}function si(e,t,n){let r=ni++;return fi(()=>{ci(e,r,t,n)}),r}function ci(e,t,n,r){if(!e.s)if(r){if(!r.s){let i=()=>{fi(()=>{e.o.delete(t);let n=ri.get(r);n&&oe(n,i)})};e.o.set(t,{I:t,slot:n,F:i}),hi(r,i)}}else e.o.set(t,{I:t,slot:n,F:()=>e.o.delete(t)})}var li=class extends B{constructor(){super(),this.L=!1,this.o=new Map,this.A=new Set,this.P=!1}detach(e){fi(()=>{let t=this.o.get(e);t&&t.F()})}value(e){return this.promise(!0,e)}next(e){return this.promise(!1,e)}promise(e,t){let n=Ur();return fi(()=>{if(this.s)n.reject(new K(`Signal initially disposed`));else if(t&&t.s)n.reject(new K(`Owner initially disposed`));else if(e&&this.L&&this.P)n.resolve(this.ea);else if(this.A.add(n),Wr(n.promise,()=>{this.A.delete(n)}),t){let e=()=>{n.reject(new K(`Owner asynchronously disposed`))};Wr(n.promise,()=>{let n=ri.get(t);n&&oe(n,e)}),hi(t,e)}}),n.promise}G(){super.G(),fi(()=>{for(let{F:e}of this.o.values())e();this.o.clear();for(let e of this.A)e.reject(new K(`Signal asynchronously disposed`));this.A.clear()})}};let ui=[],di=!1;function fi(e){ui.push(e),pi()}async function pi(){if(!di)try{di=!0;let e=mi(0);for(;e<ui.length;)await Promise.resolve(),e=mi(e)}catch(e){c(e)}finally{ui.length=0,di=!1}}function mi(e){let t=e+100;for(;e<t&&e<ui.length;)try{ui[e++]()}catch(e){c(e)}return e}function hi(e,t){if(e.s)t();else{var n=ri.get(e);if(n)n.push(t);else{let n=[t];ri.set(e,n),Zn(e,()=>{for(let e of[...n])e();ri.delete(e)})}}}function q(e){return e=O(new vr,1,U,e),{content:Lt(e)}}let gi=new ai;function _i(e,t){let n=gi.signal();return{channel:Cr(e,e=>{ii(gi,n,{content:t(e.data),ka:e})}),signal:n}}let vi;var J=class extends P{},Y=class extends P{},yi=class extends P{h(){return M(this,J,2,bi)}g(){return C(this,J,2,bi)}j(){return M(this,Y,3,bi)}l(){return C(this,Y,3,bi)}},bi=[2,3],xi=Bt(class extends P{}),Si=Bt(class extends P{}),Ci=[1,2],wi=({destination:e,origin:t,ra:n,Y:r=`ZNWN1d`,onMessage:i})=>{if(t===`*`)throw Error(`Sending to wildcard origin not allowed.`);let a=Sr(i);return e.postMessage(n?{n:r,t:n}:r,t,[a.port2]),Cr(a.port1,i)};function Ti(e,t,n){let r=new ai,i=r.signal();return e=wi({destination:window.parent,origin:t,Y:e,onMessage:e=>{let t=yr(e.data.content);E(t,U)===2&&ii(r,i,{content:M(t,Gn,2,U),ka:e,messagePort:e.data.messagePort})}}),new Ri(i,e,n)}async function Ei(e,t){var n=X;t=O(new V,9,H,t),e=await n(e,q(t));let r;return(r=M(yr(e.data.content),Gn,2,U))==null?void 0:M(r,Un,9,z)}async function Di(e,t){var n=X;t=O(new V,8,H,t),await n(e,q(t))}async function Oi(e){var t=X,n=new V,r=new rr;n=O(n,11,H,r),await t(e,q(n))}async function ki(e,t){var n=X;t=O(new V,14,H,t),await n(e,q(t))}async function Ai(e,t){var n=X;t=O(new V,15,H,t),await n(e,q(t))}async function ji(e){await e.h()}async function X(e,t){(e=await e.channel.C(t))||R(I,`Falsy response received from the message channel. ${JSON.stringify(e)}`),(t=e.data)||R(I,`Data field in the response from the message channel is falsy. ${JSON.stringify(t)}`),(t=t.content)||R(I,`Content field in the response from the message channel is falsy. ${JSON.stringify(t)}`);let n;try{n=yr(t)}catch(e){R(I,`The ControlMessage can't be deserialized. ${JSON.stringify(t)}. ${JSON.stringify(e)}`)}if((t=M(n,Gn,2,U))||R(I,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(t)}`),t=t==null?void 0:M(t,Zt,10,z),(t==null?void 0:j(t,1))!==void 0)throw new F(En(j(t,1)));return e}async function Mi(e,t,n){var r=X;t=O(new V,1,H,t),r=await r(e,q(t)),e=r.data.messagePort;var i;return(r=(i=M(yr(r.data.content),Gn,2,U))==null?void 0:M(i,Yt,1,z))==null?(i=new Yt,i=T(i,1,v(0),0)):i=r,{channel:e?_i(e,n):void 0,response:i}}async function Ni(e){let{channel:t,response:n}=await Mi(e,ar(),e=>Si(e));if(!t)throw new F(Dn(n));return t}async function Pi(e){var t=X,n=new V,r=new gr;n=O(n,5,H,r),await t(e,q(n))}async function Fi(e){var t=X,n=new V,r=new dr;n=O(n,6,H,r),await t(e,q(n))}async function Ii(e,t,n){var r=X,i=new V;t=T(new fr,1,v(t),0),n=T(t,2,y(n),``),i=O(i,7,H,n),await r(e,q(i))}async function Li(e,t){var n=X;t=O(new V,16,H,t),await n(e,q(t))}class Ri extends B{constructor(e,t,n){super(),this.U=e,this.channel=t,this.h=Wt(async()=>{var e=this.channel,t=e.C,n=new V,r=new pr;n=O(n,13,H,r),await t.call(e,q(n))}),e=Rt(),A(e,4),nt(b(e,1)),nt(b(e,2)),nt(b(e,3)),n=_r(new V,lr(cr(e),n)),this.channel.send(q(n)),si(this.U,async e=>{switch(E(e.content,z)){case 16:await ji(this)}})}}let zi;var Bi=class{constructor(e){var t=zi;this.h=e,this.g=t}delete(){throw Error(`Not implemented.`)}},Vi=class extends P{h(){return M(this,J,2,Hi)}g(){return C(this,J,2,Hi)}j(){return M(this,Y,3,Hi)}l(){return C(this,Y,3,Hi)}},Hi=[2,3],Ui=class extends P{},Wi=class extends P{},Gi=class extends P{},Ki=class extends P{h(){return M(this,J,2,qi)}g(){return C(this,J,2,qi)}j(){return M(this,Y,3,qi)}l(){return C(this,Y,3,qi)}},qi=[2,3],Ji=[5,6],Yi=class extends P{},Xi=class extends P{},Zi=[1,2,3],Qi=class extends Error{constructor(){super(`Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing`)}},$i=class{constructor(e){this.config=e}start(){return this.g??=setInterval(()=>{this.config.ha()},this.config.da),this}shutdown(){clearInterval(this.g)}};function ea(){let e=new Map,t={set(n,r){return e.set(n,r),t},D:()=>e};return t}function ta(e){if(e.g()){e=e.h().m;var t=e[h],n=x(e,t,1),r=je(n,!0);if(r!=null&&r!==n&&S(e,t,1,r),e=r,t=e??pe(),e=Uint8Array,ge(fe),n=t.g,n!=null&&!de(n))if(typeof n==`string`){ce.test(n)&&(n=n.replace(ce,ue)),n=atob(n),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);n=r}else n=null;return t=n==null?n:t.g=n,{bytes:new e(t||0)}}}function na(e,t){return t=ia(t),O(e,2,qi,t),e}function ra(e,t){return t=ia(t),O(e,2,Hi,t),e}function ia(e){return T(new J,1,je(e.bytes,!1),pe())}function aa(e){if(e.l()){e=e.j();var t,n,r=A(e,1),i=(n=(t=Mt(e,Ht,2))==null?void 0:It(t))??0;n=e.m;let a=n[h],o=x(n,a,4);return t=o==null||typeof o==`number`?o:o===`NaN`||o===`Infinity`||o===`-Infinity`?Number(o):void 0,t!=null&&t!==o&&S(n,a,4,t),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:k(t,0),playbackState:ca.get(j(e,3))}}}function oa(e,t){return t=ua(t),O(e,3,qi,t),e}function sa(e,t){return t=ua(t),O(e,3,Hi,t),e}let ca=ea().set(0,`INVALID`).set(1,`BUFFERING`).set(2,`PLAY`).set(3,`PAUSE`).set(4,`ENDED`).D(),la=ea().set(`INVALID`,0).set(`BUFFERING`,1).set(`PLAY`,2).set(`PAUSE`,3).set(`ENDED`,4).D();function ua(e){var t=new Y;t=T(t,1,y(e.mediaId),``);var n=e.mediaPlayoutRate;if(n!=null&&typeof n!=`number`)throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return t=T(t,4,n,0),n=new Ht,n=T(n,1,rt(e.mediaPlayoutPosition),`0`),t=D(t,2,n),e=la.get(e.playbackState),T(t,3,v(e),0)}function da({activityTitle:e}){return Ot(new Gi,4,y(e))}function fa(e,t){return t=T(new Wi,1,v(t.u),0),O(e,6,Ji,t),e}function pa(e){return O(e,5,Ji,new Ui),e}let ma=ea().set(`co-doing`,1).set(`co-watching`,2).D();async function ha(e,t,n){var r=t.C,i=new Xi,a=new Yi;a=T(a,1,y(e.activityTitle),``);var o=ma.get(e.K);a=T(a,2,v(o),0),i=O(i,3,Zi,a),r=await r.call(t,i,xi);let s;if((s=k($e(b(r,1)),!1))!=null&&s)return new _a(e,t,n,Mt(r,yi,2));throw new Qi}function ga(e,t){let n=e.config.N(t);n&&!e.config.M(e.g,n)&&(e.g=n,e.j=It(t),e.v(e.g))}function Z(e,t){let{state:n,fa:r,context:i}=t(e.g);e.g=n,e.notify(e.g,i,r)}class _a{constructor(e,t,n,r){this.l=e,this.h=t,this.config=n,this.v=Ut(e=>void this.l.O(e)),Sa(this.h,e=>{let t=E(e,Ci);switch(t){case 1:ga(this,M(e,yi,1,Ci));break;case 2:case 0:console.warn(`IllegalMessage: ${t} - Unhandled message - Please raise a bug with the MeetJS team`)}}),this.B=new $i({da:1e3,ha:()=>{var e,t,n=(t=(e=this.l).ja)?.call(e);if(this.g!==null){this.g={...this.g,...n},e=new Xi,t=this.config,n=t.W;var r=new Vi;r=T(r,1,rt(this.j),`0`),t=n.call(t,r,this.g),e=O(e,1,Zi,t),this.h.send(e)}}}).start(),this.g=null,this.j=0,r&&ga(this,r)}disconnect(){this.h.shutdown(),this.B.shutdown()}notify(e,t,n){var r=n?da(n):void 0;n=this.config;var i=n.X,a=new Ki;a=T(a,1,rt(this.j),`0`),r=D(a,4,r),e=i.call(n,r,e),e=this.config.V(e,t),t=this.h,n=t.send,i=new Xi,e=O(i,2,Zi,e),n.call(t,e)}}var va=class{constructor(e){this.g=e}broadcastStateUpdate(e){Z(this.g,()=>({state:e,context:{}}))}disconnect(){this.g.disconnect()}};function ya(e,t){return e==null||t==null?!1:e.bytes.length===t.bytes.length&&e.bytes.every((e,n)=>e===t.bytes[n])}var ba=class{constructor(e){this.g=e}notifySwitchedToMedia(e,t,n){Z(this.g,()=>({state:{mediaId:t,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:`PLAY`},fa:{activityTitle:e},context:{u:1}}))}notifyPauseState(e,t){Z(this.g,n=>{if(n==null)throw Error(`Invalid before coWatchingState`);return{state:{...n,playbackState:e?`PAUSE`:`PLAY`,mediaPlayoutPosition:t},context:{u:3}}})}notifySeekToTimestamp(e){Z(this.g,t=>{if(t==null)throw Error(`Invalid before coWatchingState`);return{state:{...t,mediaPlayoutPosition:e},context:{u:2}}})}notifyPlayoutRate(e){Z(this.g,t=>{if(t==null)throw Error(`Invalid before coWatchingState`);return{state:{...t,mediaPlayoutRate:e},context:{u:4}}})}notifyBuffering(e){Z(this.g,t=>{if(t==null)throw Error(`Invalid before coWatchingState`);return{state:{...t,mediaPlayoutPosition:e,playbackState:`BUFFERING`},context:{u:3}}})}notifyReady(e){Z(this.g,t=>{if(t==null)throw Error(`Invalid before coWatchingState`);return{state:{...t,mediaPlayoutPosition:e},context:{u:3}}})}disconnect(){this.g.disconnect()}};function xa(e,t){if(e==null||t==null)return!1;let n=e.playbackState===`PLAY`?3*Math.max(e.mediaPlayoutRate,1):0,r=Math.abs(e.mediaPlayoutPosition-t.mediaPlayoutPosition);return e.mediaId===t.mediaId&&e.mediaPlayoutRate===t.mediaPlayoutRate&&r<=n&&e.playbackState===t.playbackState}function Sa(e,t){let n=si(e.signal,e=>{t(e)});e.o.push(n)}var Ca=class{constructor(e,t){this.channel=e,this.signal=t,this.o=[]}send(e){this.channel.send(Lt(e))}async C(e,t){return e=await this.channel.C(Lt(e)),t(e.data)}shutdown(){this.o.forEach(e=>{this.signal.detach(e)})}};function wa(e,t){var n=ka;let r=e.signal(),i=e.signal();return si(t,t=>{ii(e,n(t)?r:i,t)},e),{ia:r,ga:i}}function Ta(e,t,n,r=e=>e){si(n,n=>{ii(e,t,r(n))},e)}async function Ea(e,t){if(t)return e=await ha({activityTitle:t.activityTitle,K:`co-watching`,ja:()=>t.onCoWatchingStateQuery(),O:e=>{t.onCoWatchingStateChanged(e)}},e,{X:oa,W:sa,V:fa,N:aa,M:xa}),new ba(e)}async function Da(e,t){if(t)return e=await ha({activityTitle:t.activityTitle,K:`co-doing`,O:e=>{t.onCoDoingStateChanged(e)}},e,{X:na,W:ra,V:pa,N:ta,M:ya}),new va(e)}async function Oa(e){let t=new ai,n=t.signal();e=await e,Ta(t,n,e.signal,e=>e.content);let{ia:r,ga:i}=wa(t,n);return{Z:new Ca(e.channel,r),aa:new Ca(e.channel,i)}}function ka(e){a:switch(E(e,Ci)){case 1:e=M(e,yi,1,Ci);break a;default:throw Error(`CA Message arrived with no known content message set`)}return e.g()}async function Aa(e,t){if({Z:e}=await Oa(Ni(e.g)),t=await Da(e,t),!t)throw Error(`Failed to create co-doing session`);return t}async function ja(e,t){if({aa:e}=await Oa(Ni(e.g)),t=await Ea(e,t),!t)throw Error(`Failed to create co-watching session`);return t}var Ma=class extends er{async notifySidePanel(e){await Ii(this.context.g,1,e)}async unloadSidePanel(){await Pi(this.context.g)}async loadSidePanel(){await Fi(this.context.g)}},Na=class extends er{async setAddonStartingState(e){if(e===null)throw new F(dn(`addonStartingState`));if(typeof e!=`object`)throw new F(L(`addonStartingState`,typeof e,`object | undefined`));if(e.sidePanelUrl!==void 0&&typeof e.sidePanelUrl!=`string`)throw new F(L(`sidePanelUrl`,typeof e.sidePanelUrl,`string | undefined`));if(e.additionalData!==void 0&&typeof e.additionalData!=`string`)throw new F(L(`additionalData`,typeof e.additionalData,`string | undefined`));if(Object.keys(e).length!==+!!e.sidePanelUrl+ +!!e.additionalData)throw new F(un);if(Object.keys(e).length===0)throw new F(ln);var t=[];t.push(Mn(jn(An(1),e.sidePanelUrl),e.additionalData)),e=this.context.g;var n=new hr,r=n.setAddonStartingState;t=Nt(new mr,t),await Li(e,r.call(n,t))}},Pa=class extends er{async notifyMainStage(e){await Ii(this.context.g,2,e)}},Fa=class{constructor(e){e=e.cloudProjectNumber;let t=nr();if(t.cloudProjectNumber!==e)throw new F(rn);let n=t.S,r=t.ba;zi??=Ti(r,n,e),this.g=new Bi(t)}async createMainStageClient(){var e=this.g;if(e.h.frameType!==2)throw new F($t);return await Promise.resolve(new Ma(e))}async createSidePanelClient(){var e=this.g;if(e.h.frameType!==1)throw new F(en);return await Promise.resolve(new Pa(e))}async createCoWatchingClient(e){return await ja(this.g,e)}async createCoDoingClient(e){return await Aa(this.g,e)}async createRoomsStandaloneClient(){var e=this.g;if(e.h.frameType!==2)throw new F($t);return await Promise.resolve(new Na(e))}};let Ia=null;var La={addon:{getFrameType:function(){a:{var e=nr().frameType;switch(e){case 2:e=`MAIN_STAGE`;break a;case 1:e=`SIDE_PANEL`;break a;default:throw Error(`Unknown frame type: ${e}`)}}return e},createAddonSession:async function(e){if(e===null)throw new F(dn(`config`));if(typeof e!=`object`)throw new F(L(`config`,typeof e,`object`));if(typeof e.cloudProjectNumber!=`string`)throw new F(L(`cloudProjectNumber`,typeof e.cloudProjectNumber,`string`));if(Ia&&nr().S!==`integration.test.google.com`)throw new F(bn);return Ia=new Fa(e)}}},Ra=[`meet`],Q=i;Ra[0]in Q||Q.execScript===void 0||Q.execScript(`var `+Ra[0]);for(var $;Ra.length&&($=Ra.shift());)Ra.length||La===void 0?Q=Q[$]&&Q[$]!==Object.prototype[$]?Q[$]:Q[$]={}:Q[$]=La}).apply(u);const d=u.meet;var ee=`893187114358`;async function te(){await(await d.addon.createAddonSession({cloudProjectNumber:ee})).createMainStageClient(),n(l).mount(`#app`)}te();export{d as t};